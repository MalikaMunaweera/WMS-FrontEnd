<div class="w3-light-grey">
  <div class="canvas center">
    <form id="workflowForm" (ngSubmit)="onSubmit();" #wForm="ngForm">
      <input name="workflowName" class="nameBox workflowName" placeholder="Name this workflow..." type="text" tabindex="1" required
        [(ngModel)]="workflow.name">
      <div class="nameTag center">
        <label>Start</label>
      </div>

      <div class="circle start center"></div>

      <div class="line"></div>

      <div class="oval center">
        <div class="nameTag center">
          <label>The user story</label>
        </div>
      </div>

      <div class="activity" *ngFor="let activity of workflow.activities; let i=index">
        <div class="line"></div>

        <div class="rectangle center">
          <input name="activityName" class="nameBox activityName" placeholder="Name this activity..." type="text" tabindex="1" required
            [(ngModel)]="activity.name">
          <i class="fa fa-times-circle cancelButton" aria-hidden="true" (click)="removeActivity(i)"></i>
          <div class="content">
            <div *ngFor="let field of activity.fields">
              <div *ngIf="field.type.id==1 || field.type.id==3">
                <h6>
                  <b>{{field.type.name}} :</b>
                </h6>
                <input [name]="'input' + field.type.id" placeholder="Approver's email address" [type]="field.type.dataType" tabindex="1"
                  required [(ngModel)]="field.value">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="line"></div>

      <div class="circle plus center">
        <i class="fa fa-plus-circle fa-3x addIcon" aria-hidden="true" (click)="addActivity(1)"></i>
      </div>

      <div class="line"></div>

      <div class="circle end center"></div>
      <div class="nameTag center">
        <label>End</label>
      </div>
      <div class="buttonHolder">
        <button name="cancelBtn" type="button" class="button cancel" (click)="onCancel()">Cancel</button>
        <button name="submitBtn" type="submit" class="button submit" [disabled]="!wForm.form.valid">{{buttonText}}</button>
      </div>
    </form>
    <button name="editBtn" type="button" class="" (click)="editVersion()">Edit version</button>
    {{workflow | json}}
  </div>
</div>